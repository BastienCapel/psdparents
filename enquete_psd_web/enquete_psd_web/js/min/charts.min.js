document.addEventListener('DOMContentLoaded',function(){Chart.defaults.font.family='\'Open Sans\', sans-serif';Chart.defaults.color='#333333';Chart.defaults.plugins.tooltip.backgroundColor='rgba(0, 85, 164, 0.8)';Chart.defaults.plugins.legend.position='bottom';var a={primary:'#0055A4',secondary:'#EF4135',tertiary:'#FFFFFF',positive:'#009B3A',neutral:'#FF9E1B',negative:'#FF6B6B',lightGray:'#F5F5F5',mediumGray:'#E0E0E0',darkGray:'#666666'},e=document.getElementById('choiceChart'),_=document.getElementById('installationsChart'),k=document.getElementById('accompagnementChart'),m=document.getElementById('prioritesChart');function A(C,_b,_c){var D=[];for(let i=0;i<C;i++){D.push(c(_b,_c,i/(C-1)))}return D}function c(_a,_B,_C){var _d=parseInt(_a.substring(1,3),16),E=parseInt(_a.substring(3,5),16),F=parseInt(_a.substring(5,7),16),G=parseInt(_B.substring(1,3),16),H=parseInt(_B.substring(3,5),16),I=parseInt(_B.substring(5,7),16),r=Math.round(_d+(G-_d)*_C),g=Math.round(E+(H-E)*_C),b=Math.round(F+(I-F)*_C);return`#${r.toString(16).padStart(2,'0')}${g.toString(16).padStart(2,'0')}${b.toString(16).padStart(2,'0')}`}var d=document.getElementById('recommendationChart');d&&new Chart(d, {type:'pie',data:{labels:['Oui','Non'],datasets:[{data:[93.3,6.7],backgroundColor:[a.primary,a.secondary],borderColor:a.tertiary,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:'bottom'},tooltip:{callbacks:{label:function(_A){return`${_A.label}: ${_A.raw}%`}}},title:{display:!0,text:'Recommanderiez-vous le LFJP ?',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}});e&&new Chart(e, {type:'bar',data:{labels:['Continuité du cursus en France','Partenariat AEFE','Langue & culture françaises','Excellence & qualité de l\'enseignement','Aide apportée à l\'enfant','Frais de scolarité'],datasets:[{label:'Note moyenne sur 5',data:[4.40,4.07,4.04,3.71,3.52,2.67],backgroundColor:A(6,a.positive,a.negative),borderColor:a.tertiary,borderWidth:1}]},options:{indexAxis:'y',responsive:!0,maintainAspectRatio:!1,scales:{x:{beginAtZero:!0,max:5,title:{display:!0,text:'Note moyenne sur 5'}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(aA){return`Note: ${aA.raw}/5`}}},title:{display:!0,text:'Motifs de choix du LFJP',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}});var f=document.getElementById('informationChart');f&&new Chart(f, {type:'radar',data:{labels:['Inscriptions','Pronote','Actualité de l\'APE-LFJP','Paiement des écolages','Projets & activités','Sorties & voyages','Options & sections','Décisions budgétaires APE'],datasets:[{label:'Note moyenne sur 5',data:[4.13,4.32,4.02,3.80,3.79,3.58,3.39,3.57],backgroundColor:'rgba(0, 85, 164, 0.2)',borderColor:a.primary,borderWidth:2,pointBackgroundColor:a.primary,pointBorderColor:a.tertiary,pointHoverBackgroundColor:a.tertiary,pointHoverBorderColor:a.primary}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:5}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(aB){return`${aB.label}: ${aB.raw}/5`}}},title:{display:!0,text:'Qualité de l\'information fournie aux parents',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}});if(_){var h=[2.41,2.73,2.96,2.98,2.94,3.20,3.50,3.59],B=h.map(aC=>{if(aC<3)return a.negative;if(aC<3.5)return a.neutral;return a.positive});new Chart(_, {type:'bar',data:{labels:['Zones circulation externes','Équipements sportifs & vestiaires','Salles de classe','Sanitaires','Sécurité abords','Espaces verts & cour','CDI/BCD','Circulations internes'],datasets:[{label:'Note moyenne sur 5',data:h,backgroundColor:B,borderColor:a.tertiary,borderWidth:1}]},options:{indexAxis:'y',responsive:!0,maintainAspectRatio:!1,scales:{x:{beginAtZero:!0,max:5,title:{display:!0,text:'Note moyenne sur 5'}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(aD){return`Note: ${aD.raw}/5`}}},title:{display:!0,text:'Évaluation des installations et équipements',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}})}var j=document.getElementById('offreChart');j&&new Chart(j, {type:'radar',data:{labels:['Enseignement du français','Citoyenneté & valeurs','Maths & sciences','Ouverture culturelle','Offre sportive','Offre linguistique (global)','Options payantes','Anglais / espagnol'],datasets:[{label:'Note moyenne sur 5',data:[3.77,3.85,3.56,3.73,3.34,3.22,3.04,3.13],backgroundColor:'rgba(239, 65, 53, 0.2)',borderColor:a.secondary,borderWidth:2,pointBackgroundColor:a.secondary,pointBorderColor:a.tertiary,pointHoverBackgroundColor:a.tertiary,pointHoverBorderColor:a.secondary}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:5}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(aE){return`${aE.label}: ${aE.raw}/5`}}},title:{display:!0,text:'Offre scolaire et enseignements',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}});k&&new Chart(k, {type:'bar',data:{labels:['ASEM (maternelle)','Professeur des écoles','Vie scolaire','Professeur principal (secondaire)','Professeurs du secondaire'],datasets:[{label:'Note moyenne sur 5',data:[4.24,3.81,3.71,3.72,3.54],backgroundColor:A(5,a.positive,a.neutral),borderColor:a.tertiary,borderWidth:1}]},options:{indexAxis:'y',responsive:!0,maintainAspectRatio:!1,scales:{x:{beginAtZero:!0,max:5,title:{display:!0,text:'Note moyenne sur 5'}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(aF){return`Note: ${aF.raw}/5`}}},title:{display:!0,text:'Accompagnement des élèves',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}});var l=document.getElementById('pointsFortsChart');l&&new Chart(l, {type:'radar',data:{labels:['Ouverture culturelle','Culture française','Inclusion','International','Sciences','Sport','Numérique','Plurilinguisme'],datasets:[{label:'Note moyenne sur 5',data:[3.73,3.79,3.41,3.36,3.22,3.15,3.18,3.01],backgroundColor:'rgba(0, 155, 58, 0.2)',borderColor:a.positive,borderWidth:2,pointBackgroundColor:a.positive,pointBorderColor:a.tertiary,pointHoverBackgroundColor:a.tertiary,pointHoverBorderColor:a.positive}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:5}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(aG){return`${aG.label}: ${aG.raw}/5`}}},title:{display:!0,text:'Points forts perçus',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}});if(m){var n=[4.40,4.33,4.24,3.92,3.93,3.48,2.49,2.68],aH=n.map(aI=>{if(aI>=4)return a.secondary;if(aI>=3.5)return a.neutral;return a.mediumGray});new Chart(m, {type:'bar',data:{labels:['Restauration scolaire','Climatisation des salles','Développement du plurilinguisme','Numérique éducatif','Équipements sportifs','Transport scolaire','Garderie matinale','Augmentation des effectifs'],datasets:[{label:'Note moyenne sur 5',data:n,backgroundColor:aH,borderColor:a.tertiary,borderWidth:1}]},options:{indexAxis:'y',responsive:!0,maintainAspectRatio:!1,scales:{x:{beginAtZero:!0,max:5,title:{display:!0,text:'Note moyenne sur 5'}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(aJ){return`Priorité: ${aJ.raw}/5`}}},title:{display:!0,text:'Priorités pour les prochaines années',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}})}var o=document.getElementById('ecolagesChart');o&&new Chart(o, {type:'bar',data:{labels:['Climatisation','Restauration','Équipements sportifs','Numérique éducatif','Couverture du terrain','Accueillir plus d\'élèves'],datasets:[{label:'Pourcentage d\'acceptation',data:[75,70,65,60,55,30],backgroundColor:A(6,a.positive,a.negative),borderColor:a.tertiary,borderWidth:1}]},options:{indexAxis:'y',responsive:!0,maintainAspectRatio:!1,scales:{x:{beginAtZero:!0,max:100,title:{display:!0,text:'Pourcentage d\'acceptation'}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(aK){return`Acceptation: ${aK.raw}%`}}},title:{display:!0,text:'Acceptabilité d\'une hausse des écolages',font:{size:16,family:'\'Montserrat\', sans-serif',weight:'bold'}}}}})});
